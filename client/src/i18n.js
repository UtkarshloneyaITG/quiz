import i18n from "i18next";
import { initReactI18next } from "react-i18next";
import LanguageDetector from "i18next-browser-languagedetector";
import Backend from "i18next-http-backend";

i18n
  // i18next-http-backend рдХреЛ рд▓реЛрдб рдХрд░рддрд╛ рд╣реИ (рдЯреНрд░рд╛рдВрд╕рд▓реЗрд╢рди рдлрд╝рд╛рдЗрд▓реЗрдВ рд▓реЛрдб рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП)
  .use(Backend)
  // рдпреВрдЬрд╝рд░ рдХреЗ рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдХреА рднрд╛рд╖рд╛ рдбрд┐рдЯреЗрдХреНрдЯ рдХрд░рддрд╛ рд╣реИ
  .use(LanguageDetector)
  // React рдореЗрдВ useTranslation рд╣реБрдХ рдФрд░ рдЕрдиреНрдп рдХрдВрдкреЛрдиреЗрдВрдЯ рдХреЛ рдЬреЛрдбрд╝рдиреЗ рдХреЗ рд▓рд┐рдП
  .use(initReactI18next)

  // i18next рдХреЛ рдЗрдирд┐рд╢рд┐рдпрд▓рд╛рдЗрдЬрд╝ (initialize) рдХрд░рддрд╛ рд╣реИ
  .init({
    // рдЕрдЧрд░ рдХреЛрдИ рдЯреНрд░рд╛рдВрд╕рд▓реЗрд╢рди рдорд┐рд╕рд┐рдВрдЧ рд╣реЛ, рддреЛ 'en' (English) рдХреЛ рдлрд╝реЙрд▓рдмреИрдХ рднрд╛рд╖рд╛ рдХреЗ рд░реВрдк рдореЗрдВ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ
    fallbackLng: "en",

    // рдбреЗрд╡рд▓рдкрдореЗрдВрдЯ рдХреЗ рджреМрд░рд╛рди рдбреАрдмрдЧрд┐рдВрдЧ (Debugging) рдЪрд╛рд▓реВ рдХрд░реЗрдВ
    debug: true,

    // React XSS рд╕реЗ рдЦреБрдж рдмрдЪрд╛рддрд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП interpolation рд╡реИрд▓реНрдпреВ рдПрд╕реНрдХреЗрдкрд┐рдВрдЧ рдХреА рдЬрд╝рд░реВрд░рдд рдирд╣реАрдВ рд╣реИ
    interpolation: {
      escapeValue: false,
    },

    // ЁЯСЗ Content as Keys (рд╣рд░ рд╢рдмреНрдж рдХреЗ рд▓рд┐рдП рдЕрд▓рдЧ рдХреБрдВрдЬреА рди рдмрдирд╛рдиреЗ) рдХреЗ рд▓рд┐рдП рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╕реЗрдЯрд┐рдВрдЧреНрд╕
    // рдпрд╣ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░рддрд╛ рд╣реИ рдХрд┐ рдкреВрд░рд╛ рд╡рд╛рдХреНрдп рд╣реА рдХреБрдВрдЬреА рдорд╛рдирд╛ рдЬрд╛рдПред
    keySeparator: true, // рдХреБрдВрдЬреА рдореЗрдВ рдбреЙрдЯ ('.') рдХреЛ рдиреЗрд╕реНрдЯрд┐рдВрдЧ (nesting) рд╕реЗрдкрд░реЗрдЯрд░ рдХреЗ рд░реВрдк рдореЗрдВ рдЙрдкрдпреЛрдЧ рди рдХрд░реЗрдВ
    nsSeparator: true, // рдирд╛рдорд╕реНрдерд╛рди (namespace) рд╕реЗрдкрд░реЗрдЯрд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рди рдХрд░реЗрдВ

    // рдЯреНрд░рд╛рдВрд╕рд▓реЗрд╢рди рдлрд╝рд╛рдЗрд▓реЛрдВ рдХрд╛ рдкрде (Path) рд╕реЗрдЯ рдХрд░рддрд╛ рд╣реИ
    backend: {
      // рдпрд╣ public/locales/en/translation.json рдЬреИрд╕реА рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреЛ рд▓реЛрдб рдХрд░реЗрдЧрд╛
      loadPath: "/locales/{{lng}}/{{ns}}.json",
    },
  });

export default i18n;
